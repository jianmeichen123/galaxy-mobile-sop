<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.galaxyinternet.rili.model.ScheduleMessage">

	<resultMap id="BaseResultMap" type="com.galaxyinternet.rili.model.ScheduleMessage">
		<id 	column="id" 			property="id" 			jdbcType="BIGINT" />
		<result column="category" 		property="category" 	jdbcType="TINYINT" />
		<result column="type" 			property="type" 		jdbcType="VARCHAR" />
		<result column="remrk_id" 		property="remarkId" 	jdbcType="BIGINT" />
		<result column="content" 		property="content" 		jdbcType="VARCHAR" />
		<result column="remark" 		property="remark" 		jdbcType="VARCHAR" />
		<result column="send_time" 		property="sendTime" 	jdbcType="BIGINT" />
		<result column="status" 		property="status" 		jdbcType="TINYINT" />
		<result column="created_uid"	property="createdUid" 	jdbcType="BIGINT" />
		<result column="created_uname" 	property="createdUname" jdbcType="VARCHAR" />
		<result column="created_time" 	property="createdTime" 	jdbcType="BIGINT" />
		<result column="updated_time" 	property="updatedTime" 	jdbcType="BIGINT" />
	
	</resultMap>


	<sql id="Base_Column_List">
		id, category, type, remrk_id, content, remark, send_time, status, created_uid, created_uname, 
    	created_time, updated_time
	</sql>



	<sql id="Base_Where_Clause">
		<where>
			<trim prefixOverrides="and">
				<if test="id != null"> and id = #{id ,jdbcType=BIGINT} </if>
				
				<if test="ids != null">
					and id IN
					<foreach collection="ids" index="item" item="item" open="(" separator="," close=")">
						#{item}
					</foreach>
				</if> 
				
				<if test="category != null" > and category = #{category ,jdbcType=TINYINT}  </if>
				<if test="type != null" > and type = #{type ,jdbcType=VARCHAR}  </if>
				<if test="remarkId != null" > and remrk_id = #{remarkId ,jdbcType=BIGINT}  </if>
				<if test="content != null" > and content = #{content ,jdbcType=VARCHAR}  </if>
				<if test="remark != null" > and remark = #{remark ,jdbcType=VARCHAR}  </if>
				<if test="sendTime != null" > and send_time = #{sendTime ,jdbcType=BIGINT}  </if>
				
				<if test="sendTimeNotNull != null" > and send_time is not null  </if>
				
				<if test="btime != null"> <![CDATA[ and send_time >= #{btime,jdbcType=BIGINT} ]]> </if>
			    <if test="etime != null"> <![CDATA[ and send_time <= #{etime,jdbcType=BIGINT} ]]> </if>
			    
				<if test="status != null" > and status = #{status ,jdbcType=TINYINT}  </if>
				<if test="createdUid != null" > and created_uid = #{createdUid ,jdbcType=BIGINT}  </if>
				<if test="createdUname != null" > and created_uname = #{createdUname ,jdbcType=VARCHAR}  </if>
				<if test="createdTime != null" > and created_time = #{createdTime ,jdbcType=BIGINT}  </if>
				<if test="updatedTime != null" > and updated_time = #{updatedTime ,jdbcType=BIGINT}  </if>
				
			</trim>
			
			<if test="sorting != null">order by ${sorting}</if>
			<!-- <if test="property != null">order by ${property} ${direction}</if> -->
			
			<if test="offset != null and limit != null">
				limit #{offset}, #{limit}
			</if>
		</where>
	</sql>


	<insert id="insert" useGeneratedKeys="true" keyProperty="id" parameterType="com.galaxyinternet.rili.model.ScheduleMessage">
	    <![CDATA[
	    insert into schedule_message (id, category, type, remrk_id, 
	      content, remark, send_time, 
	      status, created_uid, created_uname, 
	      created_time, updated_time)
	    values (#{id,jdbcType=BIGINT}, #{category,jdbcType=TINYINT}, #{type,jdbcType=VARCHAR},#{remarkId,jdbcType=BIGINT}, 
	      #{content,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}, #{sendTime,jdbcType=BIGINT}, 
	      #{status,jdbcType=TINYINT}, #{createdUid,jdbcType=BIGINT}, #{createdUname,jdbcType=VARCHAR}, 
	      #{createdTime,jdbcType=BIGINT}, #{updatedTime,jdbcType=BIGINT})
	    ]]>
	</insert>
	
				
				
	<!-- 查询总数 -->
	<select id="selectCount" resultType="java.lang.Long" parameterType="java.util.Map">
		select count(id) from schedule_message
		<include refid="Base_Where_Clause" />
	</select>



	<!-- 查询 -->
	<select id="select" resultMap="BaseResultMap" parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from schedule_message
		<include refid="Base_Where_Clause" />
	</select>


	<!-- 根据ID查询 -->
	<select id="selectById" resultMap="BaseResultMap" parameterType="java.lang.Long">
		select
		<include refid="Base_Column_List" />
		from schedule_message 
		where id = #{id}
	</select>
	
	
	<!-- 通过ID更新 -->
	<update id="updateById" parameterType="com.galaxyinternet.rili.model.ScheduleMessage">
		update schedule_message
		<set>
			<if test="category != null" > category = #{category,jdbcType=TINYINT}, </if>
			<if test="type != null" > type = #{type,jdbcType=VARCHAR}, </if>
			<if test="remarkId != null" > remrk_id = #{remarkId,jdbcType=BIGINT}, </if>
			<if test="content != null" > content = #{content,jdbcType=VARCHAR}, </if>
			<if test="remark != null" > remark = #{remark,jdbcType=VARCHAR}, </if>
			<if test="sendTime != null" > send_time = #{sendTime,jdbcType=BIGINT}, </if>
			<if test="status != null" > status = #{status,jdbcType=TINYINT}, </if>
			<if test="createdUid != null" > created_uid = #{createdUid,jdbcType=BIGINT}, </if>
			<if test="createdUname != null" > created_uname = #{createdUname,jdbcType=VARCHAR}, </if>
			<if test="createdTime != null" > created_time = #{createdTime,jdbcType=BIGINT}, </if>
			<if test="updatedTime != null" > updated_time = #{updatedTime,jdbcType=BIGINT}, </if>

		</set>
		where id = #{id}
	</update>
	
	
	
	<!-- 删除 -->
	<delete id="delete" parameterType="java.util.Map">
		delete from schedule_message
		<include refid="Base_Where_Clause" />
	</delete>
	
	
	
	<!-- 根据ID删除 -->
	<delete id="deleteById" parameterType="java.lang.Long">
		delete from schedule_message
		where id = #{id}
	</delete>

	
	
</mapper>
	